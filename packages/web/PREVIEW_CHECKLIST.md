# 📋 预览检查清单

在上线前，请使用 `npm run preview` 启动预览服务器并完成以下检查：

## 🚀 启动预览

```bash
# 完整构建并预览
npm run preview

# 快速预览（跳过构建，使用现有产物）
npm run preview:fast

# 生产环境配置预览
npm run preview:prod
```

## ✅ 功能检查清单

### 📱 基础功能
- [ ] 页面正常加载，无白屏
- [ ] 所有路由正常工作
- [ ] 菜单导航正常
- [ ] 数据接口正常请求
- [ ] 表单提交功能正常

### 🎨 UI/UX 检查
- [ ] 样式显示正确，无样式丢失
- [ ] 响应式布局在不同屏幕尺寸下正常
- [ ] 图标和图片正常显示
- [ ] 交互动画正常
- [ ] 主题色彩正确

### ⚡ 性能检查
- [ ] 首屏加载时间 < 3s
- [ ] 页面切换流畅，懒加载正常
- [ ] 静态资源加载正常
- [ ] 网络请求无异常
- [ ] 浏览器控制台无错误

### 📊 具体页面检查

#### 仪表盘页面 (`/`)
- [ ] 概览数据正常显示
- [ ] 图表渲染正确
- [ ] 实时数据更新正常

#### 监控目标页面 (`/targets`)
- [ ] 目标列表正常显示
- [ ] 搜索和筛选功能正常
- [ ] 创建/编辑目标功能正常

#### 任务管理页面 (`/tasks`)
- [ ] 任务列表正常显示
- [ ] 任务状态显示正确
- [ ] 任务操作功能正常

#### 任务详情页面 (`/tasks/:id`)
- [ ] 任务详情正常显示
- [ ] 性能指标展示正确
- [ ] 白屏检测结果正常
- [ ] 静态资源统计功能正常
- [ ] 资源类型筛选正常
- [ ] 截图展示功能正常

#### 设置页面 (`/settings/*`)
- [ ] 设置项正常显示
- [ ] 配置保存功能正常
- [ ] 表单验证正常

## 🔧 技术检查

### 代码分割效果
打开浏览器开发者工具的 Network 面板：
- [ ] 首次加载只加载必要文件
- [ ] 页面切换时才加载对应chunk
- [ ] vendor库被正确分离
- [ ] 没有加载过大的JS文件 (>500KB)

### 缓存策略
- [ ] 静态资源有正确的缓存头
- [ ] 文件名包含hash用于缓存破坏
- [ ] 字体和图片资源正常缓存

### 安全检查
- [ ] 检查 HTTP 响应头是否包含安全头
- [ ] 敏感信息未暴露在前端代码中
- [ ] API 请求使用 HTTPS (生产环境)

## 🌐 不同环境测试

### 本地预览
```bash
npm run preview
# 访问: http://localhost:4173
```

### 生产环境配置预览
```bash
# 设置生产环境API地址
PREVIEW_API_URL=https://your-production-api.com npm run preview:prod
```

## 📈 性能分析

### 查看构建分析
```bash
npm run build:analyze
```

### 手动性能检查
1. 打开 Chrome DevTools
2. 切换到 Performance 面板
3. 录制页面加载过程
4. 分析 FCP、LCP、CLS 等指标

## 🐛 常见问题排查

### 页面空白
- 检查浏览器控制台是否有JS错误
- 确认路由配置正确
- 验证懒加载组件是否正常

### 样式问题
- 确认CSS文件是否正确加载
- 检查构建过程中是否有CSS相关错误
- 验证CSS变量和主题配置

### 接口请求失败
- 检查代理配置是否正确
- 确认API服务器是否可访问
- 验证CORS配置

### 资源加载失败
- 检查资源路径是否正确
- 确认静态资源文件是否存在
- 验证服务器配置

## 📝 预览完成后

完成所有检查后：
1. 记录任何发现的问题
2. 修复问题并重新预览
3. 确认所有功能正常后再进行部署
4. 保存构建产物用于部署

---

💡 **提示**: 预览环境应该尽可能接近生产环境，以确保上线后的稳定性。 